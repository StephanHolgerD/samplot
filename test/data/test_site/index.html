<!DOCTYPE html>
<html lang="en">
<head>
<link href="https://unpkg.com/tabulator-tables@4.1.3/dist/css/tabulator_modern.min.css" rel="stylesheet">
<script type="text/javascript" src="https://unpkg.com/tabulator-tables@4.1.3/dist/js/tabulator.min.js"></script>
<script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
</head>
<body>
Click a row to see the <a href="https://github.com/ryanlayer/samplot" target="_blank">samplot</a> image.
<div id="xtable"></div>
<div id="ximg"><img src="https://raw.githubusercontent.com/ryanlayer/samplot/master/doc/imgs/samplot_logo_v5.png"/></div>
<script>

var rowClick = 
    function(e, row) {
        var d = row.getData()
        var img = d['SVTYPE'] + "_" + d['chrom'] + "_" + d['start'] + "_" + d["end"] + ".png"
        var i = jQuery("#ximg")
        i.empty()
        i.append('<img width="100%" src="' + img + '"/>"')
        return true

    }

var table = new Tabulator("#xtable", {
    height: 400,
    selectable: 1,
    layout:"fitColumns",
    pagination:"local",
    paginationSize:1000,
    columns: [
      {title:"chrom", field:"chrom", width: 100},
      {title:"start", field:"start"},
      {title:"end", field:"end"},
      {title:"size", field:"size"},
      {title:"type", field:"SVTYPE", width: 80},
      {title:"# of samples", field:"n_samples"},
      {title:"samples", field:"samples", width:200},
      
    ],
    rowClick: rowClick,
})
table.setData([{"end": 24807302, "SVTYPE": "DEL", "start": 24804397, "samples": "HG002,HG004", "n_samples": 2, "chrom": "1", "size": 2905}, {"end": 99817098, "SVTYPE": "DUP", "start": 99813786, "samples": "HG002,HG003,HG004", "n_samples": 3, "chrom": "4", "size": 3312}, {"end": 67975639, "SVTYPE": "DUP", "start": 67974431, "samples": "HG002,HG003", "n_samples": 2, "chrom": "11", "size": 1208}, {"end": 12546613, "SVTYPE": "INV", "start": 12544867, "samples": "HG002,HG003,HG004", "n_samples": 3, "chrom": "12", "size": 1746}, {"end": 12698924, "SVTYPE": "DEL", "start": 12694866, "samples": "HG002,HG003,HG004", "n_samples": 3, "chrom": "19", "size": 4058}])

</script>
</body>
</html>
